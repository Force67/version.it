# Enhancing a Changelog with ChatGPT

To incorporate this feature into your changelog, add the following snippet:

```markdown
{%- set gpt_prompt = 'Given the info about the repository, summarize the main changes:' -%}
{{ ai_summary }}
```

> Note: You must provide an environment variable named `GPT_TOKEN` with your ChatGPT API key.

This instruction directs the bot to use the provided prompt to summarize the changes, which are contained in the `ai_summary` variable. The ChatGPT-API will then formulate a summary and append it to the changelog. Bear in mind that it is already aware of the following information regarding your repository:

- `'version'`: The current version.
- `'changes'`: A list of Change objects.
- `'repo_url'`: The Git URL where the software resides.
- `'version_scheme'`: Specifies the versioning scheme currently in use.

## Conditional Values

Based on specific conditions, the API will be aware of the following values:

- If the `version_scheme` is `config.VersionScheme.SEMANTIC`, the following keys will be defined:
  - `'major_version'`: Represents the major component of the version number.
  - `'minor_version'`: Represents the minor component of the version number.
  - `'patch_version'`: Represents the patch component of the version number.

- If the `version_scheme` is `config.VersionScheme.CALVER`, the following keys will be defined:
  - `'year'`: Represents the year component of the version number.
  - `'month'`: Represents the month component of the version number.
  - `'patch'`: Represents the patch component of the version number.
  - `'branch'`: Represents the branch component of the version number.

- If the `version_scheme` is `config.VersionScheme.COMMIT`, the following key will be defined:
  - `'version_number'`: Equivalent to `self.version`, which includes the complete version number without any separation.

- If `optional_prompt` is not `None` and `self.gpt_token` is not `None`, the following key may be defined:
  - `'ai_summary'`: This corresponds to the summary generated by the `AISummary` class. If the summary generation fails, this key will not be defined.
